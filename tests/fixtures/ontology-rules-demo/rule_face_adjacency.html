<!DOCTYPE html>
<html>
<head>
    <title>Ontology Rule Demo: Face Adjacency (Signature-Assurance)</title>
    <style>
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; margin: 40px; background: #f5f5f5; }
        h1 { color: #2c3e50; }
        h2 { color: #34495e; border-bottom: 2px solid #3498db; padding-bottom: 10px; }
        .demo { background: white; margin: 20px 0; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.1); }
        .pass { border-left: 4px solid #27ae60; }
        .fail { border-left: 4px solid #e74c3c; }
        .status { font-weight: bold; font-size: 1.2em; }
        .status.pass { color: #27ae60; }
        .status.fail { color: #e74c3c; }
        .description { color: #7f8c8d; font-style: italic; margin: 10px 0; }
        .explanation { background: #ecf0f1; padding: 15px; border-radius: 4px; margin: 15px 0; }
        .violations { background: #fdedec; padding: 15px; border-radius: 4px; margin: 15px 0; }
        .violations h4 { color: #c0392b; margin-top: 0; }
        .graph { margin: 20px 0; padding: 20px; background: #fff; border: 1px solid #ddd; border-radius: 4px; }
        .vertex { fill: #3498db; stroke: white; stroke-width: 2; }
        .vertex.spec { fill: #27ae60; }
        .vertex.guidance { fill: #f39c12; }
        .vertex.signer { fill: #9b59b6; }
        .edge { stroke: #95a5a6; stroke-width: 2; }
        .edge.verification { stroke: #3498db; }
        .edge.validation { stroke: #e74c3c; }
        .edge.coupling { stroke: #9b59b6; stroke-dasharray: 5,5; }
        .edge.invalid { stroke: #e74c3c; stroke-width: 3; }
        .label { font-size: 12px; fill: #2c3e50; }
        code { background: #ecf0f1; padding: 2px 6px; border-radius: 3px; font-family: 'Fira Code', monospace; }
        .summary { background: #d5dbdb; padding: 20px; border-radius: 8px; margin-bottom: 30px; }
    </style>
</head>
<body>
    <h1>Ontology Rule Demonstration: Face Adjacency (Signature-Assurance)</h1>

    <div class="summary">
        <strong>Summary:</strong> 3/3 demonstrations passed
    </div>

    <div class="demo pass">
        <h2>Demo 1: Valid: Assurance Face Has Signature Sharing Validation Edge</h2>
        <p class="status pass">✓ PASS</p>
        <p class="description">Assurance face has corresponding signature face sharing validation edge</p>

        <div class="graph">
            <svg width="400" height="300" viewBox="0 0 400 300">
<polygon points="289.3933982822018,139.3933982822018 278.78679656440363,135.85786437626905 285.85786437626905,128.78679656440357" fill="#666"/>
<line x1="200.0" y1="50.0" x2="289.3933982822018" y2="139.3933982822018" class="edge verification"/>
<text x="244.6966991411009" y="84.6966991411009" class="label" text-anchor="middle" font-size="10">verification</text>
<polygon points="200.0,235.0 195.0,225.0 205.0,225.0" fill="#666"/>
<line x1="200.0" y1="50.0" x2="200.0" y2="235.0" class="edge validation"/>
<text x="200.0" y="132.5" class="label" text-anchor="middle" font-size="10">validation</text>
<line x1="300.0" y1="150.0" x2="200.0" y2="250.0" class="edge coupling"/>
<text x="250.0" y="190.0" class="label" text-anchor="middle" font-size="10">coupling</text>
<polygon points="189.3933982822018,239.3933982822018 178.78679656440357,235.85786437626905 185.85786437626905,228.78679656440357" fill="#666"/>
<line x1="100.0" y1="150.0" x2="189.3933982822018" y2="239.3933982822018" class="edge"/>
<text x="144.6966991411009" y="184.6966991411009" class="label" text-anchor="middle" font-size="10">qualifies</text>
<polygon points="189.3933982822018,60.60660171779821 185.85786437626905,71.21320343559643 178.78679656440357,64.14213562373095" fill="#666"/>
<line x1="100.0" y1="150.0" x2="189.3933982822018" y2="60.60660171779821" class="edge"/>
<text x="144.6966991411009" y="95.3033008588991" class="label" text-anchor="middle" font-size="10">signs</text>
<circle cx="200.0" cy="50.0" r="20" class="vertex"/>
<text x="200.0" y="55.0" class="label" text-anchor="middle">doc</text>
<circle cx="300.0" cy="150.0" r="20" class="vertex spec"/>
<text x="300.0" y="155.0" class="label" text-anchor="middle">spec</text>
<circle cx="200.0" cy="250.0" r="20" class="vertex guidance"/>
<text x="200.0" y="255.0" class="label" text-anchor="middle">guidance</text>
<circle cx="100.0" cy="150.0" r="20" class="vertex signer"/>
<text x="100.0" y="155.0" class="label" text-anchor="middle">signer</text>
</svg>
        </div>

        <div class="explanation">
            <strong>Rule:</strong> Assurance face has a signature face sharing the same validation edge - human accountability is established.
        </div>

        <p>
            <strong>Expected violations:</strong> 0<br>
            <strong>Actual violations:</strong> 0
        </p>
    </div>

    <div class="demo pass">
        <h2>Demo 2: Valid: Signature Face Without Assurance (Pre-existing Approval)</h2>
        <p class="status pass">✓ PASS</p>
        <p class="description">Signature face exists alone - this is VALID (approvals can pre-exist assurance)</p>

        <div class="graph">
            <svg width="400" height="300" viewBox="0 0 400 300">
<polygon points="279.1025403784439,187.00961894323342 269.7724133595217,180.84936490538902 278.4326673973661,175.84936490538902" fill="#666"/>
<line x1="200.0" y1="50.0" x2="279.1025403784439" y2="187.00961894323342" class="edge validation"/>
<text x="239.55127018922195" y="108.50480947161671" class="label" text-anchor="middle" font-size="10">validation</text>
<polygon points="271.6025403784439,200.0 261.6025403784439,205.0 261.6025403784439,195.0" fill="#666"/>
<line x1="113.39745962155615" y1="200.00000000000003" x2="271.6025403784439" y2="200.0" class="edge"/>
<text x="192.50000000000003" y="190.0" class="label" text-anchor="middle" font-size="10">qualifies</text>
<polygon points="192.5,62.99038105676658 191.83012701892218,74.15063509461096 183.16987298107782,69.15063509461096" fill="#666"/>
<line x1="113.39745962155615" y1="200.00000000000003" x2="192.5" y2="62.99038105676658" class="edge"/>
<text x="152.94872981077808" y="121.49519052838332" class="label" text-anchor="middle" font-size="10">signs</text>
<circle cx="200.0" cy="50.0" r="20" class="vertex"/>
<text x="200.0" y="55.0" class="label" text-anchor="middle">doc</text>
<circle cx="286.6025403784439" cy="200.0" r="20" class="vertex guidance"/>
<text x="286.6025403784439" y="205.0" class="label" text-anchor="middle">guidance</text>
<circle cx="113.39745962155615" cy="200.00000000000003" r="20" class="vertex signer"/>
<text x="113.39745962155615" y="205.00000000000003" class="label" text-anchor="middle">signer</text>
</svg>
        </div>

        <div class="explanation">
            <strong>Rule:</strong> Signature faces CAN exist without assurance faces. They represent a signer's approval of a validation, which may pre-exist the assurance.
        </div>

        <p>
            <strong>Expected violations:</strong> 0<br>
            <strong>Actual violations:</strong> 0
        </p>
    </div>

    <div class="demo pass">
        <h2>Demo 3: Invalid: Assurance Face Without Signature (No Human Sign-off)</h2>
        <p class="status pass">✓ PASS</p>
        <p class="description">Assurance face exists alone without any signature - NOT allowed!</p>

        <div class="graph">
            <svg width="400" height="300" viewBox="0 0 400 300">
<polygon points="279.1025403784439,187.00961894323342 269.7724133595217,180.84936490538902 278.4326673973661,175.84936490538902" fill="#666"/>
<line x1="200.0" y1="50.0" x2="279.1025403784439" y2="187.00961894323342" class="edge verification"/>
<text x="239.55127018922195" y="108.50480947161671" class="label" text-anchor="middle" font-size="10">verification</text>
<polygon points="120.89745962155615,187.00961894323345 121.56733260263395,175.84936490538905 130.22758664047834,180.84936490538905" fill="#666"/>
<line x1="200.0" y1="50.0" x2="120.89745962155615" y2="187.00961894323345" class="edge validation"/>
<text x="160.44872981077808" y="108.50480947161672" class="label" text-anchor="middle" font-size="10">validation</text>
<line x1="286.6025403784439" y1="200.0" x2="113.39745962155615" y2="200.00000000000003" class="edge coupling"/>
<text x="200.00000000000003" y="190.0" class="label" text-anchor="middle" font-size="10">coupling</text>
<circle cx="200.0" cy="50.0" r="20" class="vertex"/>
<text x="200.0" y="55.0" class="label" text-anchor="middle">doc</text>
<circle cx="286.6025403784439" cy="200.0" r="20" class="vertex spec"/>
<text x="286.6025403784439" y="205.0" class="label" text-anchor="middle">spec</text>
<circle cx="113.39745962155615" cy="200.00000000000003" r="20" class="vertex guidance"/>
<text x="113.39745962155615" y="205.00000000000003" class="label" text-anchor="middle">guidance</text>
</svg>
        </div>

        <div class="explanation">
            <strong>Rule:</strong> VIOLATION: Assurance face exists without a corresponding signature face. Every assurance requires human accountability via a signed validation.
        </div>

        <p>
            <strong>Expected violations:</strong> 1<br>
            <strong>Actual violations:</strong> 1
        </p>

        <div class="violations">
            <h4>Violations Found:</h4>
            <ul>
                <li><code>[ERROR] assurance_requires_signature: No signature face shares validation edge 'e:validation:test' - assurance requires human sign-off (f:assurance:orphan)</code></li>

            </ul>
        </div>
    </div>

</body>
</html>
